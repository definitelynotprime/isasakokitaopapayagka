<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>For You</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
:root {
  --yes: #ff3b7a;
  --yesHover: #ff1f68;
  --text: #e5e7eb;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  display: grid;
  place-items: center;
  background:
    linear-gradient(rgba(0,0,0,.55), rgba(0,0,0,.55)),
    url("bg.png") center / cover no-repeat;
  font-family: system-ui, sans-serif;
  color: var(--text);
  overflow: hidden;
  padding: 16px;
}

.card {
  width: min(720px, 92vw);
  padding: 26px 22px 50px;
  background: linear-gradient(
    180deg,
    rgba(18,22,45,.85),
    rgba(12,16,34,.9)
  );
  backdrop-filter: blur(14px) saturate(120%);
  border-radius: 24px;
  text-align: center;
  box-shadow: 0 20px 60px rgba(0,0,0,.65);
}

.art {
  width: 160px;
  margin: 0 auto 14px;
  display: block;
  object-fit: contain;
  filter: drop-shadow(0 10px 30px rgba(255,59,122,.35));
}

h1 {
  font-size: clamp(26px, 4vw, 44px);
  margin: 12px 0 22px;
}

.button-zone {
  position: relative;
  width: 100%;
  height: 130px;
}

button {
  all: unset;
  font-weight: 800;
  border-radius: 999px;
  cursor: pointer;
  box-shadow: 0 10px 24px rgba(0,0,0,.45);
  text-align: center;
}

#yesBtn {
  position: absolute;
  left: 28%;
  top: 50%;
  transform: translate(-50%, -50%);
  padding: 28px 68px;
  font-size: 30px;
  background: var(--yes);
  color: #fff;
}

#yesBtn:hover { background: var(--yesHover); }

#noBtn {
  position: absolute;
  left: 55%;
  top: 50%;
  transform: translate(-50%, -50%);
  padding: 10px 22px;
  font-size: 15px;
  background: #1f2937;
  color: #e5e7eb;
}

.hint {
  margin-top: 28px;
  font-size: 13px;
  opacity: .7;
}

.result {
  display: none;
  margin-top: 22px;
}

.fireworks {
  width: min(360px, 90vw);
  margin: 0 auto 18px;
  display: block;
}

.daily-message {
  font-size: 15px;
  line-height: 1.8;
}

.daily-message .day {
  font-size: 12px;
  opacity: .6;
  margin-bottom: 8px;
}
</style>
</head>

<body>

<main class="card">
  <img id="mainArt" class="art" src="me-calm.png" />

  <h1 id="mainTitle">
    MLCVL, will you be my Valentine? üñ§‚ù§Ô∏è<br>
    <span id="subtitle" style="font-size:16px; opacity:.65;">
      I may be the Dark Knight‚Ä¶ but you light up my heart ‚ú®
    </span>
  </h1>

  <section class="button-zone" id="zone">
    <button id="yesBtn">Yes</button>
    <button id="noBtn">No</button>
  </section>

  <div class="hint" id="hint">
    That ‚ÄúNo‚Äù doesn‚Äôt look very convincing üòå
  </div>

  <!-- AFTER YES -->
  <section class="result" id="result">
    <img
      class="fireworks"
      src="https://media.giphy.com/media/26ufdipQqU2lhNA4g/giphy.gif"
      alt="Celebration"
    />

    <div class="daily-message">
      <p class="day">Before Day 1</p>
      <p>
        This is just the start.<br>
        I‚Äôll take the next 9 days one at a time.
      </p>
    </div>
  </section>
</main>

<audio id="pewSound" src="pew.mp3"></audio>
<audio id="wowSound" src="wowww.mp3"></audio>

<script>
const art = document.getElementById("mainArt");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const zone = document.getElementById("zone");
const hint = document.getElementById("hint");
const result = document.getElementById("result");
const pew = document.getElementById("pewSound");
const wow = document.getElementById("wowSound");

const calmImg = "me-calm.png";
const fireImg = "me-fire.png";
const kawaiiImg = "me-kawaii.png";

let accepted = false;
let firing = false;

/* üß† HINT TEXT CYCLE WHEN NEAR NO */
const hintLines = [
  'That ‚ÄúNo‚Äù doesn‚Äôt look very convincing üòå',
  'You‚Äôre hovering‚Ä¶ interesting choice üòè',
  'It‚Äôs okay, take your time üíó',
  'That ‚ÄúYes‚Äù looks pretty comfy üòå',
  'I think your heart already knows üòâ'
];

let hintIndex = 0;
let lastHint = 0;

zone.addEventListener("pointermove", e => {
  if (accepted) return;

  const b = noBtn.getBoundingClientRect();
  const d = Math.hypot(
    (b.left + b.width / 2) - e.clientX,
    (b.top + b.height / 2) - e.clientY
  );

  if (d < 140) {
    const now = Date.now();
    if (now - lastHint > 800) {
      hintIndex = (hintIndex + 1) % hintLines.length;
      hint.textContent = hintLines[hintIndex];
      lastHint = now;
    }
  } else {
    hint.textContent = hintLines[0];
  }
});

/* üèÉ NO BUTTON RUNS */
function moveNo(px, py) {
  const z = zone.getBoundingClientRect();
  const b = noBtn.getBoundingClientRect();
  const dx = b.left + b.width/2 - px;
  const dy = b.top + b.height/2 - py;
  const mag = Math.hypot(dx, dy) || 1;

  let x = (b.left - z.left) + dx/mag * 120;
  let y = (b.top - z.top) + dy/mag * 120;

  noBtn.style.left = Math.max(0, Math.min(z.width - b.width, x)) + "px";
  noBtn.style.top  = Math.max(0, Math.min(z.height - b.height, y)) + "px";
}

zone.addEventListener("pointermove", e => {
  if (!accepted) moveNo(e.clientX, e.clientY);
});

/* üî´ NO CLICK */
noBtn.addEventListener("click", e => {
  e.preventDefault();
  if (firing || accepted) return;
  firing = true;

  art.src = fireImg;
  pew.currentTime = 0;
  pew.play();

  setTimeout(() => {
    art.src = calmImg;
    firing = false;
  }, 300);
});

/* üíñ YES CLICK */
yesBtn.addEventListener("click", () => {
  accepted = true;

  wow.currentTime = 0;
  wow.play();

  art.src = kawaiiImg;
  zone.style.display = "none";
  hint.style.display = "none";
  document.getElementById("subtitle").style.display = "none";
  document.getElementById("mainTitle").innerHTML = "It‚Äôs a date, MLCVL üñ§‚ù§Ô∏è";
  result.style.display = "block";

  confetti({
    particleCount: 160,
    spread: 120,
    shapes: ['heart'],
    colors: ['#ff3b7a', '#ff6b9a', '#ffffff'],
    origin: { y: 0.6 }
  });
});
</script>

</body>
</html>
